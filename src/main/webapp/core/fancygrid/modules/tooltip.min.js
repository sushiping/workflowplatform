Fancy.define("Fancy.grid.plugin.CellTip",{extend:Fancy.Plugin,ptype:"grid.celltip",inWidgetName:"celltip",cellTip:"{value}",constructor:function(a){var b=this;b.Super("const",arguments)},init:function(){var a=this;a.Super("init",arguments),a.ons()},ons:function(){var a=this,b=a.widget,c=(b.store,Fancy.get(document));b.on("cellenter",a.onCellEnter,a),b.on("cellleave",a.onCellLeave,a),c.on("mousemove",a.onDocMove,a)},onCellEnter:function(a,b){var c=this,d=b.column,e=c.cellTip,f=b.e;if(d.cellTip){Fancy.isString(d.cellTip)&&(e=d.cellTip);var g=new Fancy.Template(e),h={title:d.title,value:b.value,columnIndex:0,rowIndex:0};Fancy.apply(h,b.data),c.tooltip&&c.tooltip.destroy(),c.tooltip=new Fancy.ToolTip({text:g.getHTML(h)}),c.tooltip.el.css("display","block"),c.tooltip.show(f.pageX+15,f.pageY-25)}},onCellLeave:function(){var a=this;a.tooltip&&(a.tooltip.destroy(),delete a.tooltip)},onDocMove:function(a){var b=this;b.tooltip&&b.tooltip.show(a.pageX+15,a.pageY-25)}}),Fancy.define("Fancy.ToolTip",{extend:Fancy.Widget,constructor:function(a){var b=this;b.Super("const",arguments)},init:function(){var a=this;a.initTpl(),a.render()},tpl:['<div class="fancy-tooltip-inner">{text}</div>'],widgetCls:"fancy-tooltip",cls:"",extraCls:"",initTpl:function(){var a=this;a.tpl=new Fancy.Template(a.tpl)},render:function(){var a=this,b=Fancy.get(a.renderTo||document.body).dom,c=Fancy.get(document.createElement("div"));c.addClass(Fancy.cls),c.addClass(a.widgetCls),c.addClass(a.cls),c.addClass(a.extraCls),c.update(a.tpl.getHTML({text:a.text})),a.el=Fancy.get(b.appendChild(c.dom))},show:function(a,b){this.el.css({left:a,top:b})},hide:function(){this.el.hide()},destroy:function(){var a=this;a.el.destroy()}});